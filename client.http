@base=http://localhost:4000

### login
# @name postLogin
post {{base}}/auth/login HTTP/1.1
Content-Type: application/json

{ 
    "email": "admin@dev.com",
    "password" : "123456789" 
}
### save token
@token = {{postLogin.response.body.token}}


### get All companys
GET  {{base}}/companys/all HTTP/1.1
content-type: application/json
Authorization: Bearer {{token}}


### generate singinture
POST {{base}}/integration/generate
Content-Type: application/json

{
  "pin":37901634,
  "lib":"eps2003csp11.dll",
  "certificate":"Egypt Trust CA G6",
  "doc":{
    "issuer": {
        "address": {
            "branchID": "0",
            "country": "EG",
            "governate": "EGYPT",
            "regionCity": "cairo",
            "street": "6ا ش عبد الحق السنباطى الموسكى القاهرة",
            "buildingNumber": "6",
            "postalCode": "1",
            "floor": "1",
            "room": "0",
            "landmark": "1",
            "additionalInformation": "1"
        },
        "type": "B",
        "id": "232316236",
        "name": "محمد على حافظ وشركاه"
    },
    "receiver": {
        "address": {
            "branchID": "0",
            "country": "EG",
            "governate": "EGYPT",
            "regionCity": "cairo",
            "street": "1",
            "buildingNumber": "1",
            "postalCode": "1",
            "floor": "1",
            "room": "0",
            "landmark": "1",
            "additionalInformation": "1"
        },
        "type": "P",
        "id": "",
        "name": "عميل نقدى"
    },
    "documentType": "I",
    "documentTypeVersion": "1.0",
    "dateTimeIssued": "2023-10-07T15:44:49Z",
    "taxpayerActivityCode": "4759",
    "internalID": "1",
    "purchaseOrderReference": "0",
    "purchaseOrderDescription": "0",
    "salesOrderReference": "0",
    "salesOrderDescription": "0",
    "proformaInvoiceNumber": "0",
    "payment": {
        "bankName": "SomeValue",
        "bankAddress": "SomeValue",
        "bankAccountNo": "SomeValue",
        "bankAccountIBAN": "",
        "swiftCode": "",
        "terms": "SomeValue"
    },
    "delivery": {
        "approach": "SomeValue",
        "packaging": "SomeValue",
        "dateValidity": "2022-03-28T09:30:10Z",
        "exportPort": "SomeValue",
        "countryOfOrigin": "EG",
        "grossWeight": 10.5,
        "netWeight": 20.5,
        "terms": "SomeValue"
    },
    "invoiceLines": [
        {
            "description": "لفة سلك 1.5مم",
            "itemType": "EGS",
            "itemCode": "EG-232316236-10005572",
            "unitType": "Milliampere ( mA )",
            "quantity": "1.00",
            "internalCode": "EGS",
            "salesTotal": "830.00",
            "netTotal": 830,
            "total": 12450,
            "valueDifference": 0,
            "totalTaxableFees": 0,
            "itemsDiscount": 0,
            "unitValue": {
                "currencySold": "EG",
                "amountEGP": "830.00",
                "amountSold": 0,
                "currencyExchangeRate": 1
            },
            "discount": {
                "rate": "0.00",
                "amount": 0
            },
            "taxableItems": [
                {
                    "taxType": "T1",
                    "amount": "11620.00",
                    "subType": "V009",
                    "rate": 0.2
                }
            ]
        }
    ],
    "totalDiscountAmount": 0,
    "totalSalesAmount": 830,
    "netAmount": 830,
    "taxTotals": [
        {
            "taxType": "T1",
            "amount": 11620
        },
        {
            "taxType": "T4",
            "amount": 0
        }
    ],
    "totalAmount": 12450,
    "extraDiscountAmount": 0,
    "totalItemsDiscountAmount": 0
}
  }







# ---------------invoice requests -----
### login 
# @name cloudLogin
POST https://id.eta.gov.eg/connect/token
Content-Type: application/x-www-form-urlencoded

client_id=cbc0d4fe-7863-4283-8bf7-e6b6f298f3ab
&client_secret=9a1f7eb3-501a-48f3-86b5-12d0cea17841
&grant_type=client_credentials
&scope=InvoicingAPI

### save token
@access_token={{cloudLogin.response.body.access_token}}

### send request
POST  https://api.invoicing.eta.gov.eg/api/v1.0/documentsubmissions HTTP/1.1
content-type: application/json
Authorization: Bearer {{access_token}}

{"documents":[{
  "issuer": {
    "address": {
      "branchID": "0",
      "country": "EG",
      "governate": "EGYPT",
      "regionCity": "cairo",
      "street": "6ا ش عبد الحق السنباطى الموسكى القاهرة",
      "buildingNumber": "6",
      "postalCode": "1",
      "floor": "1",
      "room": "0",
      "landmark": "1",
      "additionalInformation": "1"
    },
    "type": "B",
    "id": "232316236",
    "name": "محمد على حافظ وشركاه"
  },
  "receiver": {
    "address": {
      "branchID": "0",
      "country": "EG",
      "governate": "EGYPT",
      "regionCity": "cairo",
      "street": "1",
      "buildingNumber": "1",
      "postalCode": "1",
      "floor": "1",
      "room": "0",
      "landmark": "1",
      "additionalInformation": "1"
    },
    "type": "P",
    "id": "",
    "name": "عميل نقدى"
  },
  "documentType": "I",
  "documentTypeVersion": "1.0",
  "dateTimeIssued": "2023-10-07T15:44:49Z",
  "taxpayerActivityCode": "4759",
  "internalID": "1",
  "purchaseOrderReference": "0",
  "purchaseOrderDescription": "0",
  "salesOrderReference": "0",
  "salesOrderDescription": "0",
  "proformaInvoiceNumber": "0",
  "payment": {
    "bankName": "SomeValue",
    "bankAddress": "SomeValue",
    "bankAccountNo": "SomeValue",
    "bankAccountIBAN": "",
    "swiftCode": "",
    "terms": "SomeValue"
  },
  "delivery": {
    "approach": "SomeValue",
    "packaging": "SomeValue",
    "dateValidity": "2022-03-28T09:30:10Z",
    "exportPort": "SomeValue",
    "countryOfOrigin": "EG",
    "grossWeight": 10.5,
    "netWeight": 20.5,
    "terms": "SomeValue"
  },
  "invoiceLines": [
    {
      "description": "لفة سلك 1.5مم",
      "itemType": "EGS",
      "itemCode": "EG-232316236-10005572",
      "unitType": "Milliampere ( mA )",
      "quantity": "1.00",
      "internalCode": "EGS",
      "salesTotal": "830.00",
      "netTotal": 830,
      "total": 12450,
      "valueDifference": 0,
      "totalTaxableFees": 0,
      "itemsDiscount": 0,
      "unitValue": {
        "currencySold": "EG",
        "amountEGP": "830.00",
        "amountSold": 0,
        "currencyExchangeRate": 1
      },
      "discount": {
        "rate": "0.00",
        "amount": 0
      },
      "taxableItems": [
        {
          "taxType": "T1",
          "amount": "11620.00",
          "subType": "V009",
          "rate": 0.2
        }
      ]
    }
  ],
  "totalDiscountAmount": 0,
  "totalSalesAmount": 830,
  "netAmount": 830,
  "taxTotals": [
    {
      "taxType": "T1",
      "amount": 11620
    },
    {
      "taxType": "T4",
      "amount": 0
    }
  ],
  "totalAmount": 12450,
  "extraDiscountAmount": 0,
  "totalItemsDiscountAmount": 0,
  "signatures": [
    {
      "signatureType": "I",
      "value": "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"
    }
  ]
}]}